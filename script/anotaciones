let uxSkills = [];
skillObj.addEventListener('submit', function (event) {
    event.preventDefault();

    //guardar en objetos los datos de los roles
    const oral = {
        nameSkill: "Comunicación oral",
        value: Number(inputSlider.value),
    }

    const written = {
        nameSkill: "Comunicación escrita",
        value: Number(inputSlider2.value),
    }

    const empathy = {
        nameSkill: "Empatía",
        value: Number(inputSlider3.value),
    }

    const team = {
        nameSkill: "Trabajo en equipo",
        value: Number(inputSlider4.value),
    }

    const analysis = {
        nameSkill: "Análisis de datos",
        value: Number(inputSlider5.value),
    }

    const listening = {
        nameSkill: "Escucha activa",
        value: Number(inputSlider6.value),
    }

    uxSkills.push(oral, written, empathy, team, analysis, listening);

    onAuthStateChanged(auth, async (user) => {
        if (user) {
            console.log(user);
            // User is signed in, see docs for a list of available properties
            // https://firebase.google.com/docs/reference/js/firebase.User
            const uid = user.uid;
            // ...
            const docRef = doc(db, "users", uid);
            const docSnap = await getDoc(docRef);

            if (docSnap.exists()) {
                console.log("Document data:", docSnap.data());
                const data = docSnap.data();
                userInfo = data;
                userInfo.uid = user.uid;
                console.log(userInfo);

                if (userInfo) {
                    await setDoc(doc(db, "uxSkills", uid), {
                        skills: uxSkills,
                    })

                        .then(function () {
                            //window.location.href = './html/home.html';
                        });
                }

            } else {
                // doc.data() will be undefined in this case
                console.log("No such document!");
            }

        } else {
            // User is signed out
            // ...
        }
    });
});